resources:
- name: resource-sbalpi
  type: git
  source:
    uri: https://github.com/eivaskevicius/sbalpi.git

jobs:
- name: job-install-node-dependencies
  serial: true
  plan:
  - get: resource-sbalpi
    trigger: true
  - task: install dependencies
    config:
      platform: linux
      image_resource:
        type: docker-image
        source:
          repository: node
          tag: latest
      inputs:
      - name: resource-sbalpi 
      caches:
      - path: resource-sbalpi/node_modules
      outputs:
      - name: node_modules
      run:
        path: sh
        args: [resource-sbalpi/src/scripts/nodeDependencies.sh]
  - task: test the math
    config:
      platform: linux
      image_resource:
        type: docker-image
        source:
          repository: node
          tag: latest
      inputs:
      - name: resource-sbalpi
      - name: node_modules
      caches:
      - path: resource-sbalpi/node_modules
      run:
        path: sh
        args: [resource-sbalpi/src/scripts/testMath.sh]
  